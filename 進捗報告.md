# 進捗報告用ページ

## 全体の進捗

|              内容              |        小課題 1        |      小課題 2       |
| :----------------------------: | :--------------------: | :-----------------: |
|        学習モデルの作成        |           ✅           |        なし         |
| フィッシング判定 WebAPI の作成 | FastAPI で作成<br />✅ | Rust で作成<br />❌ |
|       chrome 拡張の作成        |           ❌           |        なし         |

## 各週の報告

### 第 1 週 (4/7)

- ガイダンス
- テーマの案をいくつか出した

### 第 2 週 (4/14)

- 今日までにフィッシングサイトの学習モデルを作成し，予測可能な状態にするつもりでした．
- 学習は完了しました．結果はこのような感じになりました．

```
Training Accuracy : 0.970163273132383
Testing Accuracy : 0.9594209863328892

CLASSIFICATION REPORT

              precision    recall  f1-score   support

         Bad       0.97      0.89      0.93     38937
        Good       0.96      0.99      0.97     98400

    accuracy                           0.96    137337
   macro avg       0.96      0.94      0.95    137337
weighted avg       0.96      0.96      0.96    137337
```

- 予測は終わりませんでした．原因としては Python のエラーがうまくとれなかった事にあります．以下のような python のコードで assertion error がでます．型アノテーションの仕様で時間を使ってしまいました．

```py
def wordStr2IntVec(url: str):
    assert(type(url) == type(""))
```

- 次回までにこれを終わらせ，FastAPI でサーバを立てるまで行います．

### 第 3 週 (4/21)

#### 今日の予定

FastAPI で WebAPI サーバを立てる

#### やったこと

Python の環境構築, Rust-Python ラッパーのテストを行った．

#### できなかったことと理由

昨日 M1 Mac の brew,pyenv,Python を全部 intelx86 版から M1 Mac 版に変えたら Python がうまく動かなくなりました．

- Python3.6.4...pip が動きません,ビルドも正規の手法でできません
- Python3.7...pandas が動きません,ビルドも正規の手法でできません
- Python3.8...pandas,sklearn が動きません,ビルドも正規の手法でできません
- Python3.9...pandas,sklearn が動きません

結果 3.6.4 で pip のパッケージを github から直接 clone してビルドしました．ですが，WebAPI は立ちません(HTTP 系のパッケージでエラーが出てそうです)．
そこで，FastAPI は使わずに，当初から予定していた Rust(actix-web) でサーバを立てます．ただ，学習モデルの読み込みはそのままでは Rust で読み込めないので，Rust-Python ラッパーを使用します．![テスト](https://github.com/xryuseix/secure-system-dev/tree/master/WebAPI-Rust)を実行したら

```
❯ cargo run
   Compiling WebAPI-Rust v0.1.0 (/WebAPI-Rust)
    Finished dev [unoptimized + debuginfo] target(s) in 0.43s
     Running `target/debug/WebAPI-Rust`
hello, from Python
```

とうまく動きました．

#### 次回の目標

Rust(actix-web)で API サーバを立てる

### 第 4 週 (4/28)

#### 今日の予定

Rust(actix-web)で API サーバを立てる

#### やったこと

FastAPI で API サーバを立てた
PyO3 と actix-web という Rust のクレートを用いて，フィッシング判定 API を作成する予定でしたが，M1 Mac ではラッパー上で pandas が使えませんでした．また，HTTP 関連のライブラリが使えないのでローカルではサーバを立てられませんでした．そこで，heroku の本番環境上で API を開発しました．

```
https://heavy-tire.herokuapp.com/?url=URL
```

で使用できます．例としては

```
https://heavy-tire.herokuapp.com/?=twitter.com
```

です．結果が 0 の時は正常(good)サイト，1 の時は違法サイトです．

#### 次回の目標

chrome拡張の雛形を作成する

### 第 5 週 (5/12)

### 第 6 週 (5/19)

### 第 7 週 (5/26)

### 第 8 週 (6/2)

### 第 9 週 (6/9)

### 第 10 週 (6/16)

### 第 11 週 (6/23)

### 第 12 週 (6/30)

### 第 13 週 (7/7)

### 第 14 週 (7/14)

### 第 15 週 (7/21)
